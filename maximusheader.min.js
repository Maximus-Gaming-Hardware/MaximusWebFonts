var autoPredict=new Vue({el:"#busqueda",data:{detail:null,search:"",searchMob:""},methods:{buscadorMobile(){inputMobile.addEventListener("keyup",(e=>{clearTimeout(timeoutMobile),timeoutMobile=setTimeout((()=>{cargarPrediccionesMobile()}),500)}))}}});function FetchBusquedaData(e){autoPredict.detail=e}function GetBusquedaData(){if(autoPredict.search.length>0)var e=JSON.stringify({prli_id:"{(GBP_PRICELIST)}",comp_id:"{(GBP_COMPANY)}",ws_id:"{(GBP_WSID)}",search:autoPredict.search});else if(autoPredict.searchMob.length>0)e=JSON.stringify({prli_id:"{(GBP_PRICELIST)}",comp_id:"{(GBP_COMPANY)}",ws_id:"{(GBP_WSID)}",search:autoPredict.searchMob});funScript("web.MAX.GetItemDataSearch",e)}$(window).on("load",(function(){$("#divGBPLogo").length&&$("#divGBPLogo")[0].remove()}));var global_cantidad="@@cantidad",global_orden="@@orden",global_caja="@@caja",global_empresa_nombre="@@nombre_sitio";function logono2() {if ("{(GBP_CUSTOMER)}" != -1) {$("#comprobantelogueado").show();$("#comprobantelogueadomob").show();$("#abircomprobantenologueado").hide();$("#abircomprobantenologueadomob").hide();}if ("{(GBP_CUSTOMER)}" == -1) {$("#comprobantelogueado").hide();$("#comprobantelogueadomob").hide();$("#abircomprobantenologueado").show();$("#abircomprobantenologueadomob").show();}}$(document).ready((function(){funCalculate(),$("INPUT#INPUT_BUSCADOR").on("keypress",(function(e){if(13==e.which&&""==$("#INPUT_BUSCADOR").val())return!1})),"True"==$("#usaRegistro").val()&&$("#headRegistro").show()}));const buttonCarrito=document.querySelector(".carrito"),carritoMobile=document.querySelector(".carrito-drop-mobile");buttonCarrito.addEventListener("click",(()=>{let e="carrito-drop-active";carritoMobile.classList.contains(e)?carritoMobile.classList.remove(e):carritoMobile.classList.add(e)}));const buttonSearch=document.querySelector(".search-mobile-button");buttonSearch.addEventListener("click",(()=>{let e=document.querySelector(".search-mobile"),t="search-mobile-active",s="carrito-drop-active",a=document.querySelector(".search-input-mobile");cerrarSideBarMobile(),a.focus(),a.setSelectionRange(a.value.length,a.value.length);let i=document.querySelector(".guardar-search-mobile");e.classList.contains(t)||(e.classList.add(t),carritoMobile.classList.contains(s)&&carritoMobile.classList.remove(s)),i.addEventListener("click",(()=>{e.classList.contains(t)&&(e.classList.remove(t),suggBoxMobile.innerHTML="",inputMobile.value="")}))}));const menu=document.querySelector(".hamburger-menu"),cruz=document.querySelector(".cross"),spans=document.querySelectorAll(".burg"),claseCruzActiva="cruz-active",hamburgerInactivo="hamburger-inactive",prodsDropdown=document.querySelectorAll(".prods-dropdown"),none="none",flex="flex",unscrollable="unscrollable",menuCategorias=document.querySelector(".menu-categorias"),menuCatActive="menu-categorias-active";menu.addEventListener("click",(()=>{if(!cruz.classList.contains("cruz-active")){for(span of(document.body.classList.add(unscrollable),cruz.classList.add("cruz-active"),menu.classList.add(hamburgerInactivo),spans))span.classList.add(hamburgerInactivo);menuCategorias.classList.add(menuCatActive)}}));const slideActive="sub-menu-categorias-slide-active",sideUlActive="prods-slide-left-active",categoriasMenuMobile=[...document.querySelectorAll(".menu-productos-dropdown")],subCategoriasLeft=document.querySelector(".sub-menu-categorias-slide"),ulCatsLeft=[...document.querySelectorAll(".prods-slide-left")];categoriasMenuMobile.forEach((e=>{e.addEventListener("click",(()=>{subCategoriasLeft.classList.add(slideActive),ulCatsLeft[categoriasMenuMobile.indexOf(e)].classList.add(sideUlActive),ulCatsLeft[categoriasMenuMobile.indexOf(e)].classList.remove(none);[...document.querySelectorAll(".slide-back-menu-left")].forEach((t=>{t.addEventListener("click",(()=>{ulCatsLeft[categoriasMenuMobile.indexOf(e)].classList.remove(sideUlActive),subCategoriasLeft.classList.remove(slideActive),setTimeout((()=>{ulCatsLeft[categoriasMenuMobile.indexOf(e)].classList.add(none)}),300)}))}))}))})),cruz.addEventListener("click",(()=>{cerrarSideBarMobile()}));const categoriasWeb=document.querySelector(".categorias-web"),categoriasWebActive="menu-categorias-active-web",hamburgerWebInactive="hamburger-web-inactive",hamburguesaWeb=categoriasWeb.children[0],cruzWeb=categoriasWeb.children[1],cruzWebActive=document.querySelector(".cruz-menu-web-active"),sidebarMenuWeb=document.querySelector(".sidebar-menu-web"),sidebarActive="sidebar-menu-web-active",columnaSide="columna-side",categorias=[...document.querySelectorAll(".apertura-cat-principal")],catsSecundarias=[...document.querySelectorAll(".cats-secundarias-sidebar")],catsSidebar=[...document.querySelectorAll(".categorias-sidebar")],catActual="cat-actual",flexComponentesPerifericos="flex-componentes-perifericos",rectangleLeft=[...document.querySelectorAll(".rectangle-left")];function agregarNone(){categorias.forEach((e=>{catsSecundarias[categorias.indexOf(e)].classList.contains(none)||(catsSecundarias[categorias.indexOf(e)].classList.add(none),e.children[0].classList.remove(catActual)),catsSecundarias[categorias.indexOf(e)].children[0]&&(catsSecundarias[categorias.indexOf(e)].children[0].classList.contains(none)||(catsSecundarias[categorias.indexOf(e)].children[0].classList.add(none),catsSecundarias[categorias.indexOf(e)].children[1]&&catsSecundarias[categorias.indexOf(e)].children[1].classList.add(none),catsSecundarias[categorias.indexOf(e)].classList.remove(flexComponentesPerifericos),e.children[0].classList.remove(catActual))),rectangleLeft[categorias.indexOf(e)].classList.contains(none)||rectangleLeft[categorias.indexOf(e)].classList.add(none)}))}categorias.forEach((e=>{e.addEventListener("mouseover",(()=>{if(agregarNone(),catsSecundarias[categorias.indexOf(e)].classList.contains(none)&&(catsSecundarias[categorias.indexOf(e)].classList.remove(none),e.children[0].classList.add(catActual)),catsSecundarias[categorias.indexOf(e)].children[0].classList.contains(none)){catsSecundarias[categorias.indexOf(e)].classList.add(flexComponentesPerifericos);for(var t=0;t<catsSecundarias[categorias.indexOf(e)].children.length;t++)catsSecundarias[categorias.indexOf(e)].children[t].classList.remove(none)}rectangleLeft[categorias.indexOf(e)].classList.contains(none)&&rectangleLeft[categorias.indexOf(e)].classList.remove(none)}))}));const opacityDiv=document.querySelector(".opacidad-menu");function fBuscadorMobile(){var e=document.querySelector(".search-input-mobile").value.trim();window.location="https://www.maximus.com.ar/ARTICULOS/SCA_ID=-1/CAT_ID=-1/SCAT_ID=-1/m=-1/OR=1/BUS="+e+";/maximus.aspx?s="+e}function fBuscadorWeb(){var e=document.querySelector(".search-input").value.trim();window.location="https://www.maximus.com.ar/ARTICULOS/SCA_ID=-1/CAT_ID=-1/SCAT_ID=-1/m=-1/OR=1/BUS="+e+";/maximus.aspx?s="+e}hamburguesaWeb.addEventListener("click",(()=>{document.body.classList.add(unscrollable),opacityDiv.classList.remove(none),sidebarMenuWeb.classList.add(sidebarActive),hamburguesaWeb.classList.add(hamburgerWebInactive),cruzWeb.classList.remove(none),opacityDiv.addEventListener("mouseover",(()=>{setTimeout((()=>{agregarNone()}),1e3)})),opacityDiv.addEventListener("click",(()=>{agregarNone(),cerrarSideBarWeb(),cerrarSuggBoxMobile()})),cruzWeb.addEventListener("click",(()=>{cerrarSideBarWeb()}))})),document.querySelector(".search-input").addEventListener("keyup",(e=>{e.preventDefault(),13===e.keyCode&&fBuscadorWeb()})),document.querySelector(".search-input-mobile").addEventListener("keyup",(e=>{e.preventDefault(),13===e.keyCode&&fBuscadorMobile()}));const inputWeb=document.querySelector(".search-input"),suggBoxWeb=document.querySelector(".auto-complete-web");let busquedas=[],suggestions=[],timeoutWeb=null;const cerrarSuggBox=()=>{!suggBoxWeb.size>0&&(suggBoxWeb.innerHTML="",opacityDiv.classList.add(none),autoPredict.detail=[])};function cargarPrediccionesWeb(){GetBusquedaData(),timeoutWeb=setTimeout((()=>{suggestions=autoPredict.detail;let e=inputWeb.value,t=[],s=[];if(e.length>0?opacityDiv.classList.remove(none):opacityDiv.classList.add(none),nombresCat=[],suggestions&&e.length>0){suggestions.forEach((e=>{t.push({cat:`${e.cat}`,cat_id:`${e.cat_id}`}),s.push({subcat:`${e.subcat}`,subcat_id:`${e.subcat_id}`})})),t.sort(((e,t)=>e.cat_id.localeCompare(t.cat_id))),s.sort(((e,t)=>e.subcat_id.localeCompare(t.subcat_id))),t=t.filter(((e,s)=>e!=t[s-1])).splice(0,1),s=s.filter(((e,t)=>e!=s[t-1])).splice(0,1),suggestions=suggestions.splice(0,5).map((e=>e=`<div class="auto-search">\n<a href='https://www.maximus.com.ar/DETALLE/${e.nomProd.split(" ").join("-")}/ITEM_ID=${e.ID}/maximus.aspx' class="auto-link"><img class="imgSuggestion" src="https://www.maximus.com.ar/Temp/App_WebSite/App_PictureFiles/Items/${e.codeImg}_100.jpg" width="50" height="50"><strong>${e.nomProd}</strong></a>\n</div>`)).join(""),t=t.map((e=>e=`<div class="auto-search">\n<a href="https://www.maximus.com.ar/ARTICULOS/CAT_ID=${e.cat_id}/SCAT_ID=-1/SCA_ID=-1/m=-1/OR=1/maximus.aspx" class="auto-link-cat sugg-cat-web">Busca más productos en<strong>&nbsp;${e.cat}</strong></a>\n</div>`)).join(""),s=s.map((e=>e=`<div class="auto-search">\n<a href="https://www.maximus.com.ar/ARTICULOS/CAT_ID=-1/SCAT_ID=${e.subcat_id}/SCA_ID=-1/m=-1/OR=1/maximus.aspx" class="auto-link sugg-cat-web">Busca más productos en<strong>&nbsp;${e.subcat}</strong></a>\n</div>`)).join("");let e=suggestions+' <hr class="thin-line container"> '+t+' <hr class="thin-line container"> '+s;if(suggestions.length>0){suggBoxWeb.innerHTML=e;inputWeb.value}else suggBoxWeb.innerHTML='<div class="auto-search">No se encontraron coincidencias</div>'}else checkEmpty(suggestions,inputWeb,suggBoxWeb)}),500)}function moveThroughSuggestions(e,t,s){let a=document.querySelectorAll(".auto-search");"ArrowDown"==e?-1==t?(a[t=0].classList.add("auto-search-selected"),inputWeb.value=a[t].children[0].innerHTML.substring(a[t].children[0].innerHTML.indexOf(">")+1,a[t].children[0].innerHTML.indexOf("/")-1),document.onkeydown=()=>{"ArrowDown"!=event.key&&"ArrowUp"!=event.key||(a[t].classList.remove("auto-search-selected"),t="ArrowUp"==event.key?t-=1:t,moveThroughSuggestions(event.key,t,s))}):t==a.length?(t=0,inputWeb.value=a[t].children[0].innerHTML.substring(a[t].children[0].innerHTML.indexOf(">")+1,a[t].children[0].innerHTML.indexOf("/")-1),document.onkeydown=()=>{"ArrowDown"!=event.key&&"ArrowUp"!=event.key||(a[t].classList.remove("auto-search-selected"),t="ArrowUp"==event.key?t-=1:t,moveThroughSuggestions(event.key,t,s))}):t<a.length&&(a[t].classList.add("auto-search-selected"),inputWeb.value=a[t].children[0].innerHTML.substring(a[t].children[0].innerHTML.indexOf(">")+1,a[t].children[0].innerHTML.indexOf("/")-1),t+=1,document.onkeydown=()=>{"ArrowDown"!=event.key&&"ArrowUp"!=event.key||(a[t-1].classList.remove("auto-search-selected"),t="ArrowUp"==event.key?t-=1:t,moveThroughSuggestions(event.key,t,s))}):(e="ArrowUp")&&(-1==t?(t=a.length-1,a[t].classList.add("auto-search-selected"),inputWeb.value=a[t].children[0].innerHTML.substring(a[t].children[0].innerHTML.indexOf(">")+1,a[t].children[0].innerHTML.indexOf("/")-1),document.onkeydown=()=>{"ArrowDown"!=event.key&&"ArrowUp"!=event.key||(a[t].classList.remove("auto-search-selected"),t="ArrowDown"==event.key?t+=1:t,moveThroughSuggestions(event.key,t,s))}):t>0?(a[t-=1].classList.add("auto-search-selected"),inputWeb.value=a[t].children[0].innerHTML.substring(a[t].children[0].innerHTML.indexOf(">")+1,a[t].children[0].innerHTML.indexOf("/")-1),document.onkeydown=()=>{"ArrowDown"!=event.key&&"ArrowUp"!=event.key||(a[t].classList.remove("auto-search-selected"),t="ArrowDown"==event.key?t+=1:t,moveThroughSuggestions(event.key,t,s))}):t==a.length-1?(a[t=0].classList.add("auto-search-selected"),inputWeb.value=a[t].children[0].innerHTML.substring(a[t].children[0].innerHTML.indexOf(">")+1,a[t].children[0].innerHTML.indexOf("/")-1),document.onkeydown=()=>{"ArrowDown"!=event.key&&"ArrowUp"!=event.key||(a[t].classList.remove("auto-search-selected"),t="ArrowDown"==event.key?t+=1:t,moveThroughSuggestions(event.key,t,s))}):0==t&&(inputWeb.value=s,document.onkeydown=()=>{"ArrowDown"!=event.key&&"ArrowUp"!=event.key||(t="ArrowDown"==event.key?t+=1:t,moveThroughSuggestions(event.key,t-1,s))}))}function checkEmpty(e,t,s){""!=t.value&&""!=suggestions.value||(s.innerHTML="",[])}inputWeb.addEventListener("keyup",(e=>{"ArrowDown"==e.key||"ArrowUp"==e.key?moveThroughSuggestions(event.key,0,inputInitValue):"Escape"===e.key?(cerrarSuggBox(),inputWeb.blur()):inputWeb.value.length>0?(clearTimeout(timeoutWeb),timeoutWeb=setTimeout((()=>{cargarPrediccionesWeb()}),500)):0==inputWeb.value.length&&cerrarSuggBox()})),opacityDiv.addEventListener("click",(()=>{document.querySelector(".auto-complete-web");cerrarSuggBox(),cerrarSuggBoxMobile()}));const inputMobile=document.querySelector(".search-input-mobile");var suggBoxMobile=document.querySelector(".auto-complete-mobile");let timeoutMobile=null;const cerrarSuggBoxMobile=()=>{suggBoxMobile.innerHTML="",opacityDiv.classList.add(none),autoPredict.detail=[]};function cargarPrediccionesMobile(){GetBusquedaData(),timeoutMobile=setTimeout((()=>{suggestions=autoPredict.detail;let e=inputMobile.value,t=[],s=[];if(e.length>0?opacityDiv.classList.remove(none):opacityDiv.classList.add(none),nombresCat=[],suggestions&&e.length>0){suggestions.forEach((e=>{t.push({cat:`${e.cat}`,cat_id:`${e.cat_id}`}),s.push({subcat:`${e.subcat}`,subcat_id:`${e.subcat_id}`})})),t.sort(((e,t)=>e.cat_id.localeCompare(t.cat_id))),s.sort(((e,t)=>e.subcat_id.localeCompare(t.subcat_id))),t=t.filter(((e,s)=>e!=t[s-1])).splice(0,1),s=s.filter(((e,t)=>e!=s[t-1])).splice(0,1),suggestions=suggestions.splice(0,3).map((e=>e=`<div class="auto-search">\n<a href='https://www.maximus.com.ar/DETALLE/${e.nomProd.split(" ").join("-")}/ITEM_ID=${e.ID}/maximus.aspx' class="auto-link"><img class="imgSuggestion" src="https://www.maximus.com.ar/Temp/App_WebSite/App_PictureFiles/Items/${e.codeImg}_100.jpg" width="50" height="50"><strong class="auto-link-name">${e.nomProd}</strong></a>\n</div>`)).join(""),t=t.map((e=>e=`<div class="auto-search">\n<a href="https://www.maximus.com.ar/ARTICULOS/CAT_ID=${e.cat_id}/SCAT_ID=-1/SCA_ID=-1/m=-1/OR=1/maximus.aspx" class="auto-link sugg-cat-mobile">Busca más productos en<strong>&nbsp;${e.cat}</strong></a>\n</div>`)).join(""),s=s.map((e=>e=`<div class="auto-search">\n<a href="https://www.maximus.com.ar/ARTICULOS/CAT_ID=-1/SCAT_ID=${e.subcat_id}/SCA_ID=-1/m=-1/OR=1/maximus.aspx" class="auto-link sugg-cat-mobile">Busca más productos en<strong>&nbsp;${e.subcat}</strong></a>\n</div>`)).join("");let e=suggestions+' <hr class="thin-line container"> '+t+' <hr class="thin-line container"> '+s;if(suggestions.length>0){suggBoxMobile.innerHTML=e;let t=inputMobile.value;document.onkeydown=e=>{"ArrowDown"==e.key||"ArrowUp"==e.key?moveThroughSuggestions(e.key,0,t):"Escape"===e.key&&(cerrarSuggBox(),inputWeb.blur())}}else suggBoxMobile.innerHTML='<div class="auto-search">No se encontraron coincidencias</div>'}else checkEmpty(suggestions,inputMobile,suggBoxMobile)}),500)}inputMobile.addEventListener("keyup",(e=>{clearTimeout(timeoutMobile),timeoutMobile=setTimeout((()=>{cargarPrediccionesMobile()}),500)})),$(document).on("show.bs.modal","#modalcomprobantenologueado",(()=>{cerrarSideBarWeb(),cerrarSideBarMobile()}));const cerrarSideBarWeb=()=>{document.body.classList.remove(unscrollable),sidebarMenuWeb.classList.remove(sidebarActive),hamburguesaWeb.classList.remove(hamburgerWebInactive),cruzWeb.classList.add(none),opacityDiv.classList.add(none)},cerrarSideBarMobile=()=>{if(cruz.classList.contains("cruz-active")){for(span of(document.body.classList.remove(unscrollable),cruz.classList.remove("cruz-active"),menu.classList.remove(hamburgerInactivo),spans))span.classList.remove(hamburgerInactivo);for(ul of(subCategoriasLeft.classList.contains(slideActive)&&subCategoriasLeft.classList.remove(slideActive),ulCatsLeft))ul.classList.contains(sideUlActive)&&ul.classList.remove(sideUlActive);menuCategorias.classList.remove(menuCatActive)}},catsSecs=[...document.querySelectorAll(".apertura-cat-principal-static")];catsSecs.map((e=>{e.addEventListener("mouseover",(()=>{agregarNone()}))}));